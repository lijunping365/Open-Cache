(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{A8du:function(x,p,a){"use strict";a.r(p);var q=a("XCrF"),F=a("1GRj"),k=a("Znn+"),f=a("ZTPi"),C=a("k1fw"),ee=a("miYZ"),O=a("tsqr"),m=a("9og8"),h=a("tJVT"),K=a("WmNS"),u=a.n(K),U=a("CwrG"),b=a("hzpB"),j=a("2AxG"),W=a("cJ7L"),E=a("FY4R"),y=a("3flX"),N=a("VMEa"),M=a("Qurx"),B=a("/aGu"),d=a("q1tI"),ae=a.n(d),s=a("9kvl"),S=a("55Ip"),z=a("ITvK"),n=a.n(z),e=a("nKUr"),se=a.n(e),G=function(){if(!!s.c){var P=s.c.location.query,D=P,v=D.redirect;s.c.push(v||"/")}},J=function(){var P=Object(s.i)("@@initialState"),D=P.refresh,v=Object(d.useState)(!1),I=Object(h.a)(v,2),Q=I[0],T=I[1],V=Object(d.useState)("account"),A=Object(h.a)(V,2),g=A[0],Z=A[1],H=Object(d.useState)(""),L=Object(h.a)(H,2),X=L[0],Y=L[1],_=Object(s.h)(),R=Object(d.useCallback)(Object(m.a)(u.a.mark(function i(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(b.a)({deviceId:Object(j.b)()}).then(function(c){c&&c.success&&Y("data:image/jpeg;base64,".concat(c.imageCode))}).catch(function(c){O.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u5931\u8D25:".concat(c))});case 1:case"end":return t.stop()}},i)})),[]);Object(d.useEffect)(function(){g==="account"&&R().then()},[]);var w=function(){var i=Object(m.a)(u.a.mark(function r(t){return u.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:T(!0),Object(b.c)(Object(C.a)(Object(C.a)({},t),{},{type:g,deviceId:Object(j.b)()})).then(function(o){o&&(Object(j.d)(o.accessToken),O.default.success("\u767B\u5F55\u6210\u529F\uFF01"),G(),D().then())}).catch(function(o){O.default.success("\u767B\u5F55\u5931\u8D25:".concat(o))}),T(!1);case 3:case"end":return l.stop()}},r)}));return function(t){return i.apply(this,arguments)}}();return Object(e.jsxs)("div",{className:n.a.container,children:[Object(e.jsx)("div",{className:n.a.lang,"data-lang":!0,children:s.b&&Object(e.jsx)(s.b,{})}),Object(e.jsxs)("div",{className:n.a.content,children:[Object(e.jsxs)("div",{className:n.a.top,children:[Object(e.jsx)("div",{className:n.a.header,children:Object(e.jsx)(S.a,{to:"/",children:Object(e.jsx)("span",{className:n.a.title,children:"Open Cache"})})}),Object(e.jsx)("div",{className:n.a.desc,children:_.formatMessage({id:"pages.layouts.userLayout.title"})})]}),Object(e.jsx)("div",{className:n.a.main,children:Object(e.jsxs)(N.a,{submitter:{searchConfig:{submitText:_.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(r,t){return t.pop()},submitButtonProps:{loading:Q,size:"large",style:{width:"100%"}}},onFinish:function(){var i=Object(m.a)(u.a.mark(function r(t){return u.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:w(t);case 1:case"end":return l.stop()}},r)}));return function(r){return i.apply(this,arguments)}}(),children:[Object(e.jsxs)(f.a,{activeKey:g,onChange:Z,children:[Object(e.jsx)(f.a.TabPane,{tab:_.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})},"account"),Object(e.jsx)(f.a.TabPane,{tab:_.formatMessage({id:"pages.login.phoneLogin.tab",defaultMessage:"\u624B\u673A\u53F7\u767B\u5F55"})},"mobile")]}),g==="account"&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(M.a,{name:"username",fieldProps:{size:"large",prefix:Object(e.jsx)(W.a,{className:n.a.prefixIcon})},placeholder:_.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D"}),rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),Object(e.jsx)(M.a.Password,{name:"password",fieldProps:{size:"large",prefix:Object(e.jsx)(E.a,{className:n.a.prefixIcon})},placeholder:_.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]}),Object(e.jsx)(B.a,{fieldProps:{size:"large",prefix:Object(e.jsx)(E.a,{className:n.a.prefixIcon})},captchaProps:{size:"large"},placeholder:_.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(){return Object(e.jsx)("div",{style:{width:"100px",height:"100%"},children:Object(e.jsx)(F.a,{preview:!1,src:X,onClick:R})})},name:"captcha",rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}]})]}),g==="mobile"&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(M.a,{fieldProps:{size:"large",prefix:Object(e.jsx)(y.a,{className:n.a.prefixIcon})},name:"mobile",placeholder:_.formatMessage({id:"pages.login.phoneNumber.placeholder",defaultMessage:"\u624B\u673A\u53F7"}),rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.phoneNumber.required",defaultMessage:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"})},{pattern:/^1\d{10}$/,message:Object(e.jsx)(s.a,{id:"pages.login.phoneNumber.invalid",defaultMessage:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"})}]}),Object(e.jsx)(B.a,{fieldProps:{size:"large",prefix:Object(e.jsx)(E.a,{className:n.a.prefixIcon})},captchaProps:{size:"large"},placeholder:_.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(r,t){return r?"".concat(t," ").concat(_.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):_.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],phoneName:"mobile",onGetCaptcha:function(){var i=Object(m.a)(u.a.mark(function r(t){var c;return u.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(b.b)({mobile:t,deviceId:Object(j.b)()});case 2:c=o.sent,c&&c.success&&O.default.success("\u77ED\u4FE1\u9A8C\u8BC1\u7801\u5DF2\u53D1\u9001\uFF01\u8BF7\u6CE8\u610F\u67E5\u6536");case 4:case"end":return o.stop()}},r)}));return function(r){return i.apply(this,arguments)}}()})]}),Object(e.jsxs)("div",{style:{marginBottom:24,height:8},children:[Object(e.jsx)("a",{style:{float:"left"},children:Object(e.jsx)(s.a,{id:"pages.login.register",defaultMessage:"\u7ACB\u5373\u6CE8\u518C"})}),Object(e.jsx)("a",{style:{float:"right"},children:Object(e.jsx)(s.a,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})})]}),Object(e.jsx)(U.a,{})]})};p.default=J},ITvK:function(x,p,a){x.exports={container:"container___24lE3",lang:"lang___WB6JP",content:"content___1Bpdt",top:"top___3PP_o",header:"header___2BRxU",logo:"logo___3tfTW",title:"title___3F8Ha",desc:"desc___1EoQk",main:"main___3SGNE",icon:"icon___2tsIa",other:"other___1Hu97",register:"register___2uQ_K",prefixIcon:"prefixIcon___1AW-f"}}}]);
